<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>让Galgame在ArchLinux通过Wine正确运行 | 砂糖砂糖沙</title><meta name="keywords" content="Linux,Wine,Galgame"><meta name="author" content="BlackSand"><meta name="copyright" content="BlackSand"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="仅是一份运行记录，以作备忘。若有帮助，荣幸至极。 由于难以忍受我的电脑在 Windows10 下各种奇葩的性能问题以及强制更新，我在六月初的时候投向了 Arch 的怀抱，并开始作为主力日常使用。而 Windows10，我单独分配了一个约 60G 的空间以作备用：如游玩 3A，带反作弊的游戏，视频渲染等，这些工作在 Windows 下会比 Linux 更加优秀，简单。 但说句不好听的，Windows">
<meta property="og:type" content="article">
<meta property="og:title" content="让Galgame在ArchLinux通过Wine正确运行">
<meta property="og:url" content="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/index.html">
<meta property="og:site_name" content="砂糖砂糖沙">
<meta property="og:description" content="仅是一份运行记录，以作备忘。若有帮助，荣幸至极。 由于难以忍受我的电脑在 Windows10 下各种奇葩的性能问题以及强制更新，我在六月初的时候投向了 Arch 的怀抱，并开始作为主力日常使用。而 Windows10，我单独分配了一个约 60G 的空间以作备用：如游玩 3A，带反作弊的游戏，视频渲染等，这些工作在 Windows 下会比 Linux 更加优秀，简单。 但说句不好听的，Windows">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/08/25/hESU4H.png">
<meta property="article:published_time" content="2021-08-24T19:23:02.000Z">
<meta property="article:modified_time" content="2021-11-26T19:02:12.904Z">
<meta property="article:author" content="BlackSand">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Wine">
<meta property="article:tag" content="Galgame">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/08/25/hESU4H.png"><link rel="shortcut icon" href="https://z3.ax1x.com/2021/08/25/hVEj1O.png"><link rel="canonical" href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f7ed7b115e64d8cb67cfaf4304528b62";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-W6GTX3NX77"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-W6GTX3NX77');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '让Galgame在ArchLinux通过Wine正确运行',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-11-27 03:02:12'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/color.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://z3.ax1x.com/2021/08/25/hAzJYj.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://z3.ax1x.com/2021/08/25/hESU4H.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">砂糖砂糖沙</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">让Galgame在ArchLinux通过Wine正确运行</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-08-24T19:23:02.000Z" title="发表于 2021-08-25 03:23:02">2021-08-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-11-26T19:02:12.904Z" title="更新于 2021-11-27 03:02:12">2021-11-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="让Galgame在ArchLinux通过Wine正确运行"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>仅是一份运行记录，以作备忘。若有帮助，荣幸至极。</p>
<p>由于难以忍受我的电脑在 Windows10 下各种奇葩的性能问题以及强制更新，我在六月初的时候投向了 Arch 的怀抱，并开始作为主力日常使用。而 Windows10，我单独分配了一个约 60G 的空间以作备用：如游玩 3A，带反作弊的游戏，视频渲染等，这些工作在 Windows 下会比 Linux 更加优秀，简单。</p>
<p>但说句不好听的，<del>Windows 的强制更新就像 NTR 了我的电脑。</del>(滑稽)</p>
<p>本文基于 ArchLinux 编写，大致方向可适用于 Arch 衍生的发行版，Ubuntu 等…</p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>大部分 galgame 日文原程序在 Linux 下通过 <a target="_blank" rel="noopener" href="https://www.winehq.org/">Wine</a> 调试后再运行是没有问题的，因为不会涉及到太多东西，DLL 大多数都封装好在游戏目录中，跑起来和 Windows 下无异。但是经过汉化修改过的 Gal 程序，有些会完全无法运行（对，纯属运气问题），因为每个汉化组的汉化手段不一致，可能在 Windows 下能正常运行的，在 Wine 下运行会无反应或花式报错。</p>
<p>即使汉化无法运行，还可以通过使用虚拟机（如 KVM，VmWare）的方式使得程序在 Windows 下运行，但相应在性能上，至少我的设备用虚拟机鼠标拖动有小许延迟和撕裂，galgame 大部分时候画面变化不明显，所以体验尚可。</p>
<p>当然 Steam 上也有原生支持 Linux 的 gal，也有让 Valve 列入白名单的 gal，例如<a target="_blank" rel="noopener" href="https://www.protondb.com/app/412830">命运石之门</a>，这种 gal 几乎可以开箱即用，体验极佳。</p>
<p>如果让我排一个选择优先级，我认为是：</p>
<ol>
<li>Native Game or Whitelisted game</li>
<li>Steam Play (Proton)</li>
<li>Wine</li>
<li>Virtual Machine running Windows</li>
<li>Windows</li>
</ol>
<p><strong>如果 Steam Play 和 Wine 折腾之后，仍然无法让程序运行，请马上转向使用虚拟机或切换至 Windows，我是玩游戏的而不是被游戏玩的（笑）。</strong></p>
<p>本文已默认拥有的一个相对完备的系统，已配置好当前系统的显卡驱动、声音驱动还有字体等。</p>
<h1 id="个人硬件配置"><a href="#个人硬件配置" class="headerlink" title="个人硬件配置"></a>个人硬件配置</h1><p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzATe.png"><img src="https://z3.ax1x.com/2021/08/25/hAzATe.png" alt="image-20210824171230339"></a></p>
<h1 id="什么是-Wine"><a href="#什么是-Wine" class="headerlink" title="什么是 Wine"></a>什么是 Wine</h1><blockquote>
<p><a target="_blank" rel="noopener" href="https://www.winehq.org/">Wine</a> 是在 x86、x86-64 容许类 Unix 操作系统在 X Window System 运行 Microsoft Windows 程序的软件。另外，Wine 也提供程序运行库（Winelib）来帮助计算机程序设计师将 Windows 程序移植到类 Unix 系统。</p>
<p>Wine 通过提供一个兼容层来将 Windows 的系统调用转换成与 POSIX 标准的系统调用。它还提供了 Windows 系统运行库的替代品和一些系统组件的替代品。为了避免著作权问题，Wine 主要使用黑箱测试逆向工程来编写。</p>
<p>Wine 最早是 “Windows Emulator”，即 Windows 模拟器的缩写，但 Wine 现在为 “Wine Is Not an Emulator” 的递归缩写，即 Wine 不是模拟器。Wine 的正确名称是 “Wine”，而不是全大写或全小写。</p>
<p>—— 摘自<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/Wine">维基百科简体中文</a></p>
</blockquote>
<h1 id="安装-Wine-并尝试初始化"><a href="#安装-Wine-并尝试初始化" class="headerlink" title="安装 Wine 并尝试初始化"></a>安装 Wine 并尝试初始化</h1><p>不同的发行版请参阅 <a target="_blank" rel="noopener" href="https://www.winehq.org/">Wine</a> 官网，或查询其他资料以执行安装。</p>
<p>Wine 需通过开启 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Multilib">multilib</a> 仓库，来安装 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/?name=wine">wine</a>(稳定版本)，或 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/?name=wine-staging">wine-staging</a>(测试版本)。<a target="_blank" rel="noopener" href="https://www.wine-staging.com/">Wine-Staging</a> 其中包含尚未纳入稳定或开发分支的 bug 修复和功能，加入新句柄的同时，也意味着可能有更多的不稳定因素出现。</p>
<p>WineWiki-FAQ 可查看有关更多信息：<a target="_blank" rel="noopener" href="https://wiki.winehq.org/FAQ">查看链接</a></p>
<h2 id="安装-Wine-及其依赖"><a href="#安装-Wine-及其依赖" class="headerlink" title="安装 Wine 及其依赖"></a>安装 Wine 及其依赖</h2><p>安装 Wine 需要启用 <code>multilib</code> 存储库，请取消 <code>/etc/pacman.conf</code> 中被注释处理的 <code>[multilib]</code> 部分：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL# 在&#x2F;etc&#x2F;pacman.conf文件中：

[multilib]
Include &#x3D; &#x2F;etc&#x2F;pacman.d&#x2F;mirrorlist<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>随后使用<code>:wq</code> 退出保存，刷新 pacman 数据库：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL
sudo pacman -Syu<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>刷新 pacman 数据库后，在终端安装 Wine 或 Wine-staging：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL# 稳定版
pacman -S wine

# 测试版
pacman -S wine-staging<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>为了让游戏运行正常，我仍然建议安装 Wine 的所有依赖项，以确保 Wine 工作正常：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELLsudo pacman -S --needed wine-staging giflib lib32-giflib libpng lib32-libpng libldap lib32-libldap gnutls lib32-gnutls \
mpg123 lib32-mpg123 openal lib32-openal v4l-utils lib32-v4l-utils libpulse lib32-libpulse libgpg-error \
lib32-libgpg-error alsa-plugins lib32-alsa-plugins alsa-lib lib32-alsa-lib libjpeg-turbo lib32-libjpeg-turbo \
sqlite lib32-sqlite libxcomposite lib32-libxcomposite libxinerama lib32-libgcrypt libgcrypt lib32-libxinerama \
ncurses lib32-ncurses opencl-icd-loader lib32-opencl-icd-loader libxslt lib32-libxslt libva lib32-libva gtk3 \
lib32-gtk3 gst-plugins-base-libs lib32-gst-plugins-base-libs vulkan-icd-loader lib32-vulkan-icd-loader<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>如使用其他发行版，请参阅 Lutris 的<a target="_blank" rel="noopener" href="https://github.com/lutris/docs/blob/master/WineDependencies.md">官方 docs 文档</a>获取更多信息，该文档包含了 Wine 所需要的所有依赖项。</p>
</blockquote>
<p>安装完成后，可以在终端尝试执行 <code>wine</code>，Wine 会在 <code>~</code> 下生成<code>.wine</code> 文件夹，该文件夹相当于一个虚拟的 Windows 系统盘，其中包含有 Windows 相关的运行文件。我们一般称 <code>~/.wine</code> 为 一个 WINEPREFIX (个人称 Wine 虚拟盘)，而各个 Wine 虚拟盘之间是互不影响的，就像是不同的 Windows 计算机一样。</p>
<blockquote>
<p><strong>注意：Wine 并不是沙盒，它可访问你当前部分 Linux 文件系统。使用 Wine 时禁止使用 sudo 权限，否则 Wine 前缀将可访问到系统所有文件，若出现威胁，病毒可能会瘫痪掉你的系统。</strong></p>
</blockquote>
<h2 id="改用-32-位-Wine-虚拟盘"><a href="#改用-32-位-Wine-虚拟盘" class="headerlink" title="改用 32 位 Wine 虚拟盘"></a>改用 32 位 Wine 虚拟盘</h2><blockquote>
<p>At present there are some significant bugs that prevent many 32 bit applications from working in a 64 bit wineprefix.</p>
<p>目前有一些严重的<a target="_blank" rel="noopener" href="http://bugs.winehq.org/buglist.cgi?keywords=win64&resolution=---">错误</a>会导致一些 32 位程序在 64 位 Wine 虚拟盘中无法运行。</p>
<p>——<a target="_blank" rel="noopener" href="https://wiki.winehq.org/FAQ#How_do_I_create_a_32_bit_wineprefix_on_a_64_bit_system.3F">WineHQ</a></p>
</blockquote>
<p>为了稳定运行，更换成 32 位 Wine 虚拟盘是很有必要做的一件事情，且文章下方即将安装的组件（如 d3dx9，wmp10）都只能在 32 位 Wine 虚拟盘中安装成功。</p>
<p>Wine 在初始化时默认生成的是 64 位 Wine 虚拟盘，所以我们需要在终端，输入：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL# 删除原有初始化的64位Wine虚拟盘
rm -r ~&#x2F;.wine
# WINEARCH指定为win32 在 ~&#x2F; 中创建一个新的WINEPREFIX
WINEARCH&#x3D;win32 winecfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>此时 <code>~/.wine</code> 会成为一个 32 位的 Windows 虚拟盘。此后直接执行 <code>wine program.exe</code> 时都会使用该 32 位 Wine 虚拟盘。</p>
<p>你也可以在命令中添加 <code>WINEPREFIX=path_to_wineprefix</code> 来指定一个地址创建，如：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL
WINEARCH&#x3D;win32 WINEPREFIX&#x3D;~&#x2F;.win32 winecfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>但如果使用指定地址方式创建，想要以 win32 方式运行程序时需指定 <code>WINEPREFIX</code> 变量：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL
WINEPREFIX&#x3D;~&#x2F;.win32 wine program.exe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><strong>注意：不要使用一个已存在的文件夹作为 WINEPREFIX 地址来创建一个新的 Wine 虚拟盘。Wine 必须要创建文件夹。如上例中<code>.win32</code> 文件夹需不存在于目录中。</strong></p>
<h2 id="拓展相关"><a href="#拓展相关" class="headerlink" title="拓展相关"></a>拓展相关</h2><p>遇到需要分别使用 Internet Explorer 和.NET 为依赖的 Windows 程序，可安装 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/?name=wine-gecko">wine-gecko</a> 和 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/?name=wine-mono">wine-mono</a> 软件包。安装后可不必为每一个新建 Wine 前缀安装 mono 和 gecko，意味着允许你脱机工作，请根据自身情况选择是否安装。</p>
<p>仅限 Arch：</p>
<pre class="line-numbers language-none"><code class="language-none">CODE
pacman -S wine-gecko wine-mono<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如遇其他问题，可参照 ArchWiki 相关栏目：<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Wine#Configuration">查看链接</a></p>
<h1 id="Wine-相关运行库配置"><a href="#Wine-相关运行库配置" class="headerlink" title="Wine 相关运行库配置"></a>Wine 相关运行库配置</h1><p>本部分参考该 <a target="_blank" rel="noopener" href="https://piglalala.github.io/2021/04/07/%E5%A6%82%E4%BD%95%E5%9C%A8linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%84%89%E5%BF%AB%E7%9A%84%E6%8E%A8galgame01-%E4%BB%8E%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E8%BF%90%E8%A1%8C%E5%88%B0/">Blog</a>，为方便起见，此处直接搬运过来了，并根据自身实际情况进行了修改。</p>
<h2 id="winecfg-配置"><a href="#winecfg-配置" class="headerlink" title="winecfg 配置"></a>winecfg 配置</h2><p><a target="_blank" rel="noopener" href="https://wiki.winehq.org/Winecfg">winecfg</a> 是 Wine 的 GUI 配置工具，可以通过在终端运行 <code>winecfg</code> 显示下图界面。<code>winecfg</code> 将默认打开 <code>WINEPREFIX=~/.wine</code> 的 Wine 虚拟盘。</p>
<blockquote>
<p>在下面的标签页选择函数库，展示的函数库有的选的就加，没有的自己打字填入框中添加，例如 gstreamer。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzpS1.png"><img src="https://z3.ax1x.com/2021/08/25/hAzpS1.png" alt="image-20210824160516093"></a></p>
<h2 id="winetricks-安装组件"><a href="#winetricks-安装组件" class="headerlink" title="winetricks 安装组件"></a>winetricks 安装组件</h2><p>仅使用 <code>winecfg</code> 配置，只会模拟一个非常简单的 Windows 系统，拿去跑部分 Galgame 已经没问题了（如《恋 × シンアイ彼女》汉化）。但一般运行游戏需要使用到一些 DX 的运行库，Galgame 这种也不例外。为了让 Wine 能跑更多的程序，我们需要使用 winetricks 这个工具在 Wine 中配置更多 Windows 组件。</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL# 安装winetricks
pacman -S winetricks<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>安装完成后，在终端运行 <code>winetricks</code>，该工具默认指向 <code>~/.wine</code> 为虚拟盘进行配置。正常情况下会显示下面的界面。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/29/h8FAcd.png"><img src="https://z3.ax1x.com/2021/08/29/h8FAcd.png" alt="h8FAcd.png"></a></p>
<p>如没有问题，安装下面常用软件包，这些包安装完之后能够正常运行大部分的 Galgame。</p>
<blockquote>
<p><code>winetricks d3dx9 quartz devenum wmp10 gdiplus dotnet40 ffdshow cjkfonts </code><del>vcrun6</del></p>
<p><strong>注意</strong>： <strong>vcrun6</strong> 暂<a target="_blank" rel="noopener" href="https://github.com/Winetricks/winetricks/issues/1804">无法安装</a>，安装后会破坏当前使用的 wine 前缀。(至少在 wine-6.15 Staging 中)</p>
</blockquote>
<h2 id="补充：GStreamer-安装"><a href="#补充：GStreamer-安装" class="headerlink" title="补充：GStreamer 安装"></a>补充：GStreamer 安装</h2><blockquote>
<p>根据 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/GStreamer">ArchWiki</a> 指引，需安装：</p>
<pre class="line-numbers language-none"><code class="language-none">pacman -S GStreamer
pacman -S gst-plugins-good gst-plugins-ugly<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<p><em>我未曾玩过需要 GStreamer 的 Gal，仅就按照上面 <a target="_blank" rel="noopener" href="https://piglalala.github.io/2021/04/07/%E5%A6%82%E4%BD%95%E5%9C%A8linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%84%89%E5%BF%AB%E7%9A%84%E6%8E%A8galgame01-%E4%BB%8E%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E8%BF%90%E8%A1%8C%E5%88%B0/">Blog</a> 的安装搬运过来。</em></p>
<blockquote>
<p>浏览器前往 <a target="_blank" rel="noopener" href="https://github.com/Nevcairiel/LAVFilters/releases">https://github.com/Nevcairiel/LAVFilters/releases</a> 下载最新安装包。<br>使用相应的 wine 虚拟盘运行该安装包即可。</p>
<p>如我想给 <code>~/.wine</code> 安装 GStreamer，只需 <code>wine install_name.exe</code> 即可。</p>
</blockquote>
<h1 id="运行策略"><a href="#运行策略" class="headerlink" title="运行策略"></a>运行策略</h1><h2 id="Steam-Play-兼容性工具-Proton"><a href="#Steam-Play-兼容性工具-Proton" class="headerlink" title="Steam Play 兼容性工具 (Proton)"></a>Steam Play 兼容性工具 (Proton)</h2><p>如果在 Steam 中购买了 Galgame 的正版，通过 <a target="_blank" rel="noopener" href="https://www.protondb.com/">ProtonDB</a> 可以找到相应的方案，快速定位并解决问题，而无需自己用 winetrick 或 winecfg 反复调试。一般通过 Steam 运行的正版游戏兼容性会比单纯的 Wine <del>高到不知那里去了</del> 好太多了。</p>
<p>同样在 Proton 中也有类似 winetricks 的软件包，称为 <code>protontricks</code>，可以实现类似 winetricks 的功能。</p>
<p><del>如果连 Steam 都不会装，这部分大概也不用看了罢。</del></p>
<h3 id="什么是-Proton"><a href="#什么是-Proton" class="headerlink" title="什么是 Proton"></a>什么是 Proton</h3><blockquote>
<p>Proton 是 Valve Software 发布的集成于 Steam Play 中的一个新工具，使得在 Linux 玩 Windows 游戏变得非常简单。在其背后，Proton 整合了其他像 Wine 和 DXVK 这样的流行的工具，使得游戏玩家不必自行进行安装和维护。这极大地免除了用户切换到 Linux 的负担，不需要学习系统底层知识，也不会失去很多心爱的游戏。Proton 仍在起步阶段，因此对不同游戏的支持参差不齐，但 Proton 正在不断迭代中。</p>
<p>——<a target="_blank" rel="noopener" href="https://www.protondb.com/">ProtonDB_MainPage</a></p>
</blockquote>
<h3 id="如何激活-Proton"><a href="#如何激活-Proton" class="headerlink" title="如何激活 Proton"></a>如何激活 Proton</h3><p>激活 Proton 非常简单，只需前往 Steam &gt; 设置 &gt; Steam Play ，勾选 <strong>为支持的产品启用 Steam Play</strong> 和 <strong>为所有其他产品启用 Steam Play</strong> 。</p>
<p>点击确定后，Steam 可能会请求是否重新启动 Steam 以更新设置，点击确认重启。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/29/h8Fl9g.png"><img src="https://z3.ax1x.com/2021/08/29/h8Fl9g.png" alt="image-20210829002320664"></a></p>
<h3 id="Proton-运行示例"><a href="#Proton-运行示例" class="headerlink" title="Proton 运行示例"></a>Proton 运行示例</h3><p>此处我以 Riddle Joker 为例，展示如何根据他人的报告进行调整。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/29/h8F13Q.png"><img src="https://z3.ax1x.com/2021/08/29/h8F13Q.png" alt="image-20210828233429994"></a></p>
<ul>
<li><blockquote>
<p>启动参数：使用 Wine D3D</p>
<p>use PROTON_USE_WINED3D=1 %command% to get past initial blank screen.</p>
</blockquote>
<p>在库中右键 Riddle Joker—— 属性 —— 通用一栏中，将 <code>PROTON_USE_WINED3D=1 %command%</code> 填入启动选项框中。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/29/h8FJun.png"><img src="https://z3.ax1x.com/2021/08/29/h8FJun.png" alt="image-20210829000701667"></a></p>
</li>
<li><blockquote>
<p>右侧栏：TINKER Proton 5.0-10</p>
</blockquote>
<p>报告此处使用的是 Proton 5.0-10，在库中右键 Riddle Joker—— 属性 —— 兼容性中，将 <strong>强制使用特定 Steam Play 兼容性工具</strong> 打勾，随后在下方的选择栏中选择 <strong>Proton 5.0-10</strong>，这样可单独为游戏指定特地的 Proton 版本运行。如曾经没有用过该 Proton 版本，Steam 在游戏启动时会自动下载更新。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/29/h8FYBq.png"><img src="https://z3.ax1x.com/2021/08/29/h8FYBq.png" alt="image-20210829001647092"></a></p>
</li>
<li><blockquote>
<p>调整：Protontricks</p>
<p>Install wmp11 with protontricks 1277930 wmp11 to get the movies to work</p>
</blockquote>
<p>在终端中输入 <code>protontricks 1277930 wmp11</code>，为 Riddle Joker 安装 wmp11，以实现 OP 和 ED 的正常播放。</p>
<p>此处的 <code>1277930</code> 的代号是从右键游戏 —— 属性 —— 更新 ——App ID 查询得到。</p>
<p><strong>注意：</strong></p>
</li>
</ul>
<ol>
<li><strong>若使用 protontricks 安装组件，请切换至想要使用的 Proton 版本后再执行安装，否则将会安装至选择前的 Proton 版本。</strong></li>
<li><strong>ProtonDB 默认生成的 Wine 虚拟盘为 64 位，即无法安装 wmp10 等仅支持 32 位的组件，所以此处安装的是 wmp11。</strong></li>
<li>游戏的 ProtonPREFIX（Proton 虚拟盘）会在<code>游戏程序安装所在目录/../../compatdata/App_ID</code> 中。</li>
</ol>
<h2 id="PlayonLinux"><a href="#PlayonLinux" class="headerlink" title="PlayonLinux"></a>PlayonLinux</h2><p>我非常建议使用 PlayOnLinux 去管理 Wine 虚拟盘，有可能你的机器实装的 Wine 出现路径抽风现象，或更新 Wine 后无法直接在终端使用 <code>wine galgame.exe</code> 运行时，诸如等等，此时都可以使用 PlayOnLinux 的新 Wine 虚拟盘或旧版本 Wine 尝试运行这个游戏。</p>
<p>此部分写的较为简练，阅读此部分前，请确保将 <a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#Wine%E7%9B%B8%E5%85%B3%E8%BF%90%E8%A1%8C%E5%BA%93%E9%85%8D%E7%BD%AE">Wine 相关运行库配置</a>部分阅读完成。</p>
<h3 id="什么是-PlayOnLinux"><a href="#什么是-PlayOnLinux" class="headerlink" title="什么是 PlayOnLinux"></a>什么是 PlayOnLinux</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://wiki.playonlinux.com/index.php/Home">PlayOnLinux</a> 是一个免费程序，可帮助在 Linux 上安装、运行和管理 Windows 软件。它还可以管理称为 Wine 虚拟盘，并下载和安装某些 Windows 运行库以使某些软件在 Wine 上能够正常运行。</p>
<p>也可以使用不同的 Wine 版本创建不同的 Wine 虚拟盘，因为在一个旧版本中能够运行的程序，在较新版本上可能无法运行。</p>
</blockquote>
<h3 id="如何安装-PlayonLinux"><a href="#如何安装-PlayonLinux" class="headerlink" title="如何安装 PlayonLinux"></a>如何安装 PlayonLinux</h3><p>在 ArchLinux 下安装，只需在终端执行：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL
sudo pacman -Syu playonlinux<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如使用其他发行版，请访问 PlayonLinux 官方<a target="_blank" rel="noopener" href="https://www.playonlinux.com/en/download.html">下载页面</a>获取更多信息。</p>
<h3 id="管理-Wine-版本"><a href="#管理-Wine-版本" class="headerlink" title="管理 Wine 版本"></a>管理 Wine 版本</h3><p>打开程序，在<strong>菜单栏</strong>通过<code>工具</code> -&gt; <code>管理Wine版本</code>即可打开该界面，此处可以下载管理整个 Wine 所有版本。有时，不同的游戏在 Wine 版本之间的运行性和性能不同。Wine 的更新可能会破坏掉之前可直接运行的情况，所以安装多几个 Wine 版本是必要的。</p>
<p>要安装某个版本的 Wine（32 位或 64 位），只需在左侧选择版本，然后按 “&gt;” 按钮下载并安装它。Wine 安装程序可能会向你询问是否安装 Mono 和 Gecko，根据实际情况选择。</p>
<p>要删除版本，请在右侧选中其中一个未锁定的 Wine 版本，按 “&lt;” 按钮删除。如果该版本被创建了虚拟盘，那么该版本将无法进行删除操作，直到虚拟盘被删除。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59gDFs.png"><img src="https://z3.ax1x.com/2021/10/08/59gDFs.png" alt="image-20211008041228776"></a></p>
<h3 id="创建虚拟盘"><a href="#创建虚拟盘" class="headerlink" title="创建虚拟盘"></a>创建虚拟盘</h3><p>要在不安装程序的情况下创建驱动器，只需按主程序的<code>配置</code>，点击左下角的<code>新建</code>。按照程序指导，选择 32 位或 64 位 Wine 版本安装，并为虚拟盘命名。同样的，Wine 安装程序可能会向你询问是否安装 Mono 和 Gecko，根据实际情况选择。创建完成后，它将出现在虚拟盘列表中。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59grYn.png"><img src="https://z3.ax1x.com/2021/10/08/59grYn.png" alt="image-20211008043413017"></a></p>
<h3 id="PlayOnLinux-的-winetricks"><a href="#PlayOnLinux-的-winetricks" class="headerlink" title="PlayOnLinux 的 winetricks"></a>PlayOnLinux 的 winetricks</h3><p>在主窗口中，按工具栏中的 “配置”，选中一个 Wine 虚拟盘，将显示此窗口。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59gsWq.png"><img src="https://z3.ax1x.com/2021/10/08/59gsWq.png" alt="image-20211008045617557"></a></p>
<p>在 “Wine” 选项卡有 8 个按钮，包括启动 Wine 配置程序 (winecfg)、控制面板、注册表编辑器、命令提示符等的按钮。</p>
<p>在 “安装内容” 选项卡中，如同 winetricks 一般，可以在里面配置 windows 组件。可参照之前 <a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#winetricks%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6">winetricks 安装组件</a>部分，将所必需组件安装上去。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59g6S0.png"><img src="https://z3.ax1x.com/2021/10/08/59g6S0.png" alt="image-20211008045847421"></a></p>
<p>如果在此处没有找到你需要安装的组件，则可以转到 “杂项” 选项卡，点击<code>打开一个Shell</code>，弹出的窗口中默认直接指向了当前虚拟盘的 WINEPREFIX 位置，此时使用 <code>winetricks</code> 命令进行安装，默认将会安装在选中的虚拟盘（例如此处我会为 <code>4.3</code> 这个虚拟盘安装组件）。</p>
<h3 id="安装自定义程序"><a href="#安装自定义程序" class="headerlink" title="安装自定义程序"></a>安装自定义程序</h3><p>通过选中<code>安装</code>或左侧栏的<code>安装一个程序</code>，打开后方的界面，选中左下角的<code>安装未在列表中的程序</code>来安装不在 PlayOnLinux 列表中的程序。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59ggyT.png"><img src="https://z3.ax1x.com/2021/10/08/59ggyT.png" alt="image-20211008042238325"></a></p>
<p>如果你是第一次安装，你会遇到两个弹窗：一个是给你安装程序时的提示，另一个是不要向 WineHQ 提交错误报告，因为 PlayOnLinux 与他们没有关系。</p>
<p>这里引用一下网图：</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59ghTJ.png"><img src="https://z3.ax1x.com/2021/10/08/59ghTJ.png" alt="image-20211008051413425"></a></p>
<p>由于我们已经新建了我们想要的虚拟盘，则此处我们选择<code>编辑或更新现有的应用程序</code>。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59g5k9.png"><img src="https://z3.ax1x.com/2021/10/08/59g5k9.png" alt="image-20211008044136938"></a></p>
<p>我们此处是新安装游戏，所以需点击左下角的<code>显示虚拟盘</code>，然后选中想要程序运行的 Wine 虚拟盘；点击下一步后，跳过<code>安装前想要做什么？</code>，3 个选项均不勾选；根据虚拟盘 Wine 是 32 位还是 64 位选择 32bit 或 64bit。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59gIYR.png"><img src="https://z3.ax1x.com/2021/10/08/59gIYR.png" alt="image-20211008044235904"></a></p>
<p>到达浏览安装文件时，我们浏览选中要启动的游戏主 exe，尝试看看能不能运行，若无法运行则需要尝试其他版本。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59gof1.png"><img src="https://z3.ax1x.com/2021/10/08/59gof1.png" alt="image-20211008044638693"></a></p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59g7Sx.png"><img src="https://z3.ax1x.com/2021/10/08/59g7Sx.png" alt="image-20211008044838372"></a></p>
<p>试运行成功过后，PlayOnLinux 将会弹出一个快捷方式创建窗口，如果在窗口中没有找到主程序，则需要自行选择<code>浏览</code>，定位到主程序，重命名，并点击下一步生成，此时快捷方式将会出现在桌面。完成后即可点击取消退出安装。</p>
<p>此后你想从 PlayOnLinux 启动游戏或从桌面启动，均可直接运行游戏，就像双击.exe 可执行文件并且能成功运行一般。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/10/08/59gHl6.png"><img src="https://z3.ax1x.com/2021/10/08/59gHl6.png" alt="image-20211008044956106"></a></p>
<h2 id="Shell-脚本的一个妙用"><a href="#Shell-脚本的一个妙用" class="headerlink" title="Shell 脚本的一个妙用"></a>Shell 脚本的一个妙用</h2><p>游戏在汉化过程中，汉化组可能用到了一些其他 API 或者 DLL，抑或因为程序修改、重新打包，会出现游戏程序无法正常运行的问题：</p>
<p>如出现 Fatal error 错误窗口弹出（近月少女的礼仪 2 汉化）；</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAz9Qx.png"><img src="https://z3.ax1x.com/2021/08/25/hAz9Qx.png" alt="image-20210824135114667"></a><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzkwD.png"><img src="https://z3.ax1x.com/2021/08/25/hAzkwD.png" alt="image-20210824162524351"></a></p>
<p>或游戏目录会出现类似如此的错误报告（少女理论及其周边 汉化）；</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzCy6.png"><img src="https://z3.ax1x.com/2021/08/25/hAzCy6.png" alt="image-20210824134017711"></a></p>
<p>又或者直接游戏，无法打开，仅在后台运行，没有任何反应（LOOPERS 汉化）；</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzPOK.png"><img src="https://z3.ax1x.com/2021/08/25/hAzPOK.png" alt="image-20210824140456246"></a></p>
<hr>
<p>此处用到了 Wine 的 Debug 功能，成功原理：</p>
<blockquote>
<p>There are some cases where the bug seems to disappear when <code>WINEDEBUG</code> is used with the right channel.</p>
<p>在某些情况下，当 <code>WINEDEBUG</code> 与正确的参数通道一起使用时，BUG 似乎会消失。</p>
<p>——<a target="_blank" rel="noopener" href="https://wiki.winehq.org/FAQ#How_do_I_get_a_debug_trace.3F">WineHQ</a></p>
</blockquote>
<p>我在终端尝试在 <code>wine</code> 命令前添加 <code>WINEDEBUG=+relay</code> 后，出现上述问题的游戏开始可以运行，但因为在终端输出大量滚动日志，会占用大量 CPU 使用率，游戏性能会大幅下降。</p>
<p>游戏运行必须需要有 Debug 日志输出才可运行，而如果大量的日志条目输出到文件，会占用非常大的硬盘空间。(实测在一分钟内可产生 1G 的日志文件)</p>
<p>我想做的是需要将这些滚动日志重定向到一个临时文件来存储，并在游戏开启后删除该临时日志文件。</p>
<p><a target="_blank" rel="noopener" href="https://z3.ax1x.com/2021/08/25/hAzFeO.png"><img src="https://z3.ax1x.com/2021/08/25/hAzFeO.png" alt="image-20210824141036586"></a></p>
<p>我曾尝试将日志输出重定向至 <code>/dev/null</code> ，但这种做法无效，Wine 依旧认为程序无法继续执行。</p>
<p>所以我们可以使用一个简单的 shell 脚本启动程序，先让日志输出 5 秒，让 Wine 认为该程序可继续执行，然后再运行游戏过程中删除临时文件，让重定向无法继续输出日志到临时文件。</p>
<p>代码示例如下：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL#!&#x2F;bin&#x2F;bash
# run.sh
WINEDEBUG&#x3D;+relay wine &#x2F;mnt&#x2F;mounte&#x2F;Galgame&#x2F;loopers&#x2F;SiglusEngine_cn_210729.exe &gt; &#x2F;tmp&#x2F;output.txt 2&gt;&amp;1 &amp;

sleep 5
rm -f &#x2F;tmp&#x2F;output.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>此后我们可以使用该 shell 脚本来启动程序。</p>
<p>总而言之，可以尝试添加不同的 DEBUG 参数通道运行游戏，说不定可以解决一些问题，具体通道参数信息请查阅 WineHQ。</p>
<p><del>不管有没有至少先试试再说嘛，说不定就能跑得动了也不用麻烦去开虚拟机。</del></p>
<h2 id="字体优化"><a href="#字体优化" class="headerlink" title="字体优化"></a>字体优化</h2><p>Wine 在运行当中可能缺少字体，即使通过 <code>winetricks</code> 安装了 <code>cjkfonts</code> 或 <code>gdiplus</code> 解决了字体问题，可选择下面的方案进行进一步优化。</p>
<h3 id="使用-Windows-分区中的字体"><a href="#使用-Windows-分区中的字体" class="headerlink" title="使用 Windows 分区中的字体"></a>使用 Windows 分区中的字体</h3><p>如果安装了 Windows 分区（即双系统），我建议通过拷贝使用其字体：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELLmkdir &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;WindowsFonts
cp &#x2F;windows&#x2F;Windows&#x2F;Fonts&#x2F;* &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;WindowsFonts&#x2F;
chmod 644 &#x2F;usr&#x2F;share&#x2F;fonts&#x2F;WindowsFonts&#x2F;*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>然后重新生成 fontconfig 缓存：</p>
<pre class="line-numbers language-none"><code class="language-none">SHELL
fc-cache --force<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>最后重启系统。</p>
<blockquote>
<p>如发现字体反而出现了问题，删除 <code>fonts</code> 文件夹中的 <code>WindowsFonts</code> 文件夹，重新进行 fontconfig 缓存即可。</p>
</blockquote>
<h3 id="从-Windows-ISO-中提取字体"><a href="#从-Windows-ISO-中提取字体" class="headerlink" title="从 Windows ISO 中提取字体"></a>从 Windows ISO 中提取字体</h3><blockquote>
<p>资料来源 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Microsoft_fonts_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E4%BB%8E_Windows_ISO_%E4%B8%AD%E6%8F%90%E5%8F%96%E5%AD%97%E4%BD%93">ArchWiki</a>：</p>
<p>在 Windows ISO 文件中也可以找到字体。若 ISO 是在网络上下载的，则包含字体的文件格式为 WIM (<em>Windows Imaging Format</em>) ；若 ISO 是使用 Windows 介质创建工具创建的，则对应文件格式为 ESD (<em>Windows Electronic Software Download</em>)。从 ISO 文件中提取 <code>sources/install.esd</code> 或 <code>sources/install.wim</code> 文件并从中找到 <code>Windows/Fonts</code> 目录。它可以用 <em>7z</em> (<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/P7zip">p7zip</a>) 或 <em>wimextract</em> (<a target="_blank" rel="noopener" href="https://archlinux.org/packages/?name=wimlib">wimlib</a>) 提取。以下是一个使用 <em>7z</em> 的示例:</p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">SHELL7z e Win10_1709_English_x64.iso sources&#x2F;install.wim
7z e install.wim 1&#x2F;Windows&#x2F;&#123;Fonts&#x2F;&quot;*&quot;.&#123;ttf,ttc&#125;,System32&#x2F;Licenses&#x2F;neutral&#x2F;&quot;*&quot;&#x2F;&quot;*&quot;&#x2F;license.rtf&#125; -ofonts&#x2F;
7z e install.wim Windows&#x2F;&#123;Fonts&#x2F;&quot;*&quot;.&#123;ttf,ttc&#125;,System32&#x2F;Licenses&#x2F;neutral&#x2F;&quot;*&quot;&#x2F;&quot;*&quot;&#x2F;license.rtf&#125; -ofonts&#x2F; # Windows 7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>字体和许可证将位于 <code>fonts</code> 目录。获得字体后可参照上面步骤将字体拷贝到相应文件夹，随后重启系统。</p>
</blockquote>
<p>若仍无效果，尝试将字体复制到 wine 的 Fonts 文件夹: <code>~/.wine/drive_c/windows/Fonts</code>，重启系统，查看是否读取字体。</p>
<h2 id="虚拟机相关"><a href="#虚拟机相关" class="headerlink" title="虚拟机相关"></a>虚拟机相关</h2><blockquote>
<p>得闲再写。感觉都可以单独拉出一篇文章来写。</p>
</blockquote>
<h1 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h1><p>下表是根据我的电脑情况而汇总的方案，当然发行版不同可能遇到的问题也不同，使用的运行策略也不同，此表<strong>仅供参考</strong>，不定时更新。</p>
<p>个人电脑使用的是最新 Staging 版本的 Wine，同时我可能顺便测试 4.x 或 5.x 或 6.0.1_stable 的 Wine（PlayonLinux）。</p>
<p>Staging 将缩写为 S，表示为测试版。</p>
<p>上次更新的时间：2021/8/29 00:40</p>
<table>
<thead>
<tr>
<th>游戏名称</th>
<th>使用引擎</th>
<th>游戏版本</th>
<th>Wine (Proton) 版本</th>
<th>策略</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>传达不到的爱恋</td>
<td>AMUSE CRAFT 自制</td>
<td>初回版 (x’moeV1 汉化)</td>
<td>wine-6.15S</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>天色＊アイルノーツ</td>
<td>吉里吉里</td>
<td>PRO2 汉化组 v2016.02.07</td>
<td>wine-6.15S</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>Riddle Joker</td>
<td>吉里吉里</td>
<td>Steam 正版</td>
<td>Proton 5.0-10</td>
<td><a target="_blank" rel="noopener" href="https://www.protondb.com/app/1277930">ProtonDB</a></td>
<td></td>
</tr>
<tr>
<td>Senren＊Banka</td>
<td>吉里吉里</td>
<td>Steam 正版</td>
<td>Proton 5.0-10</td>
<td><a target="_blank" rel="noopener" href="https://www.protondb.com/app/1144400">ProtonDB</a></td>
<td></td>
</tr>
<tr>
<td>Sabbat of the Witch</td>
<td>吉里吉里</td>
<td>Steam 正版</td>
<td>Proton 5.0-10</td>
<td><a target="_blank" rel="noopener" href="https://www.protondb.com/app/888790">ProtonDB</a></td>
<td>x’moe 汉化未测试</td>
</tr>
<tr>
<td>喫茶ステラと死神の蝶</td>
<td>吉里吉里</td>
<td>弥生月汉化组 天之圣杯汉化组</td>
<td>–</td>
<td><a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3">虚拟机</a></td>
<td>Wine 无法运行</td>
</tr>
<tr>
<td>PARQUET</td>
<td>吉里吉里</td>
<td>Steam 正版</td>
<td>Proton 4.11-13</td>
<td><a target="_blank" rel="noopener" href="https://www.protondb.com/app/1662840">Proton</a></td>
<td>需做调整</td>
</tr>
<tr>
<td>月に寄りそう乙女の作法</td>
<td>QLIE</td>
<td>KID 汉化 v1.21</td>
<td>wine-6.15S</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>乙女理論とその周辺</td>
<td>QLIE</td>
<td>KID 汉化 v1.0</td>
<td>wine-4.0 wine-6.15S</td>
<td><a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A6%99%E7%94%A8">Shell</a></td>
<td></td>
</tr>
<tr>
<td>乙女理論とその後の周辺</td>
<td>QLIE</td>
<td>KID 汉化 v1.0</td>
<td>wine-4.10</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>月に寄りそう乙女の作法 2</td>
<td>QLIE</td>
<td>KID 汉化 v1.0</td>
<td>wine-6.15S</td>
<td><a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A6%99%E7%94%A8">Shell</a></td>
<td></td>
</tr>
<tr>
<td>Clover Day’s Plus</td>
<td>吉里吉里</td>
<td>星冈四叶草调养中心</td>
<td>wine-4.3S wine-6.0.1</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>オトメ＊ドメイン</td>
<td>吉里吉里</td>
<td><del>黙示 v1.2</del></td>
<td>wine-4.3S wine-6.15S</td>
<td>直接运行</td>
<td></td>
</tr>
<tr>
<td>LOOPERS</td>
<td>SiglusEngine</td>
<td>绿茶汉化组 v1.0</td>
<td>wine-6.15S</td>
<td><a href="https://blacksand.top/2021/08/25/%E8%AE%A9Galgame%E5%9C%A8ArchLinux%E9%80%9A%E8%BF%87Wine%E6%AD%A3%E7%A1%AE%E8%BF%90%E8%A1%8C/#Shell%E8%84%9A%E6%9C%AC%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A6%99%E7%94%A8">Shell</a></td>
<td>运行性能一般</td>
</tr>
<tr>
<td>ハミダシクリエイティブ</td>
<td>Artemis</td>
<td>白井木学院汉化组 v1.0</td>
<td>wine-6.0.1</td>
<td>直接运行</td>
<td>无法播放影片</td>
</tr>
</tbody></table>
<h1 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h1><blockquote>
<p>本文由 typora 编写 <a target="_blank" rel="noopener" href="https://www.typora.io/"><em>typora</em> 官网 - <em>Typora</em> — a markdown editor, markdown reader</a></p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://piglalala.github.io/2021/04/07/%E5%A6%82%E4%BD%95%E5%9C%A8linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%84%89%E5%BF%AB%E7%9A%84%E6%8E%A8galgame01-%E4%BB%8E%E5%9F%BA%E7%A1%80%E9%85%8D%E7%BD%AE%E8%BF%90%E8%A1%8C%E5%88%B0/">「游戏 / 科技」如何在 Linux 环境下愉快的推 Galgame—— 从基础配置运行到解决 OP 视频播放 / 没声音问题 | piglalala’s Blog</a></li>
<li><a target="_blank" rel="noopener" href="https://moonsekai.xyz/blog/Fun/%E5%9C%A8-Linux-%E4%B8%8B%E8%B7%91-galgame.html">在 Linux 下跑 galgame | Moonsekai’s Blog</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/wine">Wine - ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/22981630?sort=created">请问目前为止已知的 GALGAME 制作引擎有什么？ - 知乎</a></li>
<li><a target="_blank" rel="noopener" href="https://wiki.winehq.org/FAQ">FAQ - WineHQ Wiki</a></li>
<li><a target="_blank" rel="noopener" href="https://www.protondb.com/">ProtonDB | Gaming reports for Linux using Proton and Steam Play</a></li>
<li><a target="_blank" rel="noopener" href="https://www.linuxandubuntu.com/home/playonlinux-for-easier-use-of-wine">PlayOnLinux For Easier Use Of Wine - LinuxAndUbuntu</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/B1ackSand">B1ackSand</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blacksand.top/2021/08/25/让Galgame在ArchLinux通过Wine正确运行">https://blacksand.top/2021/08/25/让Galgame在ArchLinux通过Wine正确运行</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">此文章版权归B1ackSand所有，如有转载，请注明来自原作者</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Wine/">Wine</a><a class="post-meta__tags" href="/tags/Galgame/">Galgame</a></div><div class="post_share"><div class="social-share" data-image="https://z3.ax1x.com/2021/08/25/hESU4H.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/08/25/MarkDown%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"><img class="prev-cover" src="https://z3.ax1x.com/2021/08/25/hVZZPx.md.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MarkDown的基本使用</div></div></a></div><div class="next-post pull-right"><a href="/1970/01/01/hello-world/"><img class="next-cover" src="/transparent" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Hello World</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/10/02/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Lutris%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B8%B8%E7%8E%A9%E4%BD%8E%E5%BB%B6%E8%BF%9F%E9%9F%B3%E9%A2%91osu!%20%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8C%97/" title="Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北"><img class="cover" src="https://i.loli.net/2021/10/09/a9oj4NRX6F1PleY.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-02</div><div class="title">Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北</div></div></a></div><div><a href="/2021/09/07/Linux%E4%B8%8Bmysql%E5%AF%BC%E5%87%BA.sql%E6%96%87%E4%BB%B6/" title="Linux下mysql导出.sql文件"><img class="cover" src="https://z3.ax1x.com/2021/10/08/59yDF1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-09-07</div><div class="title">Linux下mysql导出.sql文件</div></div></a></div><div><a href="/2021/10/18/fcitx5-rime%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E8%B8%A9%E5%9D%91%E7%82%B9%E8%A7%A3%E5%86%B3%E7%AE%80%E8%A6%81/" title="fcitx5-rime个人配置以及踩坑点解决简要"><img class="cover" src="https://i.loli.net/2021/10/18/AGszuCDQZy1H5hp.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-18</div><div class="title">fcitx5-rime个人配置以及踩坑点解决简要</div></div></a></div><div><a href="/2021/10/08/%E4%BD%BF%E7%94%A8GVT-g%E5%B0%86IGPU%E4%BC%A0%E9%80%92%E7%BB%99KVM/" title="使用GVT-g将IGPU传递给KVM"><img class="cover" src="/transparent" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-08</div><div class="title">使用GVT-g将IGPU传递给KVM</div></div></a></div><div><a href="/2021/10/08/%E5%A6%82%E4%BD%95%E5%9C%A8ArchLinux%E4%B8%8A%E5%AE%89%E8%A3%85KVM%E5%B9%B6%E8%99%9A%E6%8B%9F%E5%8C%96Win10/" title="如何在ArchLinux上安装KVM并虚拟化Win10"><img class="cover" src="/transparent" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-08</div><div class="title">如何在ArchLinux上安装KVM并虚拟化Win10</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://z3.ax1x.com/2021/08/25/hAzJYj.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">BlackSand</div><div class="author-info__description">OwO</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">12</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/B1ackSand" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:peilanfengfeng@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">茫茫人海有缘相逢</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E7%A1%AC%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">2.</span> <span class="toc-text">个人硬件配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Wine"><span class="toc-number">3.</span> <span class="toc-text">什么是 Wine</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Wine-%E5%B9%B6%E5%B0%9D%E8%AF%95%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">安装 Wine 并尝试初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Wine-%E5%8F%8A%E5%85%B6%E4%BE%9D%E8%B5%96"><span class="toc-number">4.1.</span> <span class="toc-text">安装 Wine 及其依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9%E7%94%A8-32-%E4%BD%8D-Wine-%E8%99%9A%E6%8B%9F%E7%9B%98"><span class="toc-number">4.2.</span> <span class="toc-text">改用 32 位 Wine 虚拟盘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%E7%9B%B8%E5%85%B3"><span class="toc-number">4.3.</span> <span class="toc-text">拓展相关</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Wine-%E7%9B%B8%E5%85%B3%E8%BF%90%E8%A1%8C%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-number">5.</span> <span class="toc-text">Wine 相关运行库配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#winecfg-%E9%85%8D%E7%BD%AE"><span class="toc-number">5.1.</span> <span class="toc-text">winecfg 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#winetricks-%E5%AE%89%E8%A3%85%E7%BB%84%E4%BB%B6"><span class="toc-number">5.2.</span> <span class="toc-text">winetricks 安装组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%EF%BC%9AGStreamer-%E5%AE%89%E8%A3%85"><span class="toc-number">5.3.</span> <span class="toc-text">补充：GStreamer 安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E7%AD%96%E7%95%A5"><span class="toc-number">6.</span> <span class="toc-text">运行策略</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Steam-Play-%E5%85%BC%E5%AE%B9%E6%80%A7%E5%B7%A5%E5%85%B7-Proton"><span class="toc-number">6.1.</span> <span class="toc-text">Steam Play 兼容性工具 (Proton)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-Proton"><span class="toc-number">6.1.1.</span> <span class="toc-text">什么是 Proton</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%BF%80%E6%B4%BB-Proton"><span class="toc-number">6.1.2.</span> <span class="toc-text">如何激活 Proton</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Proton-%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B"><span class="toc-number">6.1.3.</span> <span class="toc-text">Proton 运行示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PlayonLinux"><span class="toc-number">6.2.</span> <span class="toc-text">PlayonLinux</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-PlayOnLinux"><span class="toc-number">6.2.1.</span> <span class="toc-text">什么是 PlayOnLinux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85-PlayonLinux"><span class="toc-number">6.2.2.</span> <span class="toc-text">如何安装 PlayonLinux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%A1%E7%90%86-Wine-%E7%89%88%E6%9C%AC"><span class="toc-number">6.2.3.</span> <span class="toc-text">管理 Wine 版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%9B%98"><span class="toc-number">6.2.4.</span> <span class="toc-text">创建虚拟盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PlayOnLinux-%E7%9A%84-winetricks"><span class="toc-number">6.2.5.</span> <span class="toc-text">PlayOnLinux 的 winetricks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E8%87%AA%E5%AE%9A%E4%B9%89%E7%A8%8B%E5%BA%8F"><span class="toc-number">6.2.6.</span> <span class="toc-text">安装自定义程序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell-%E8%84%9A%E6%9C%AC%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A6%99%E7%94%A8"><span class="toc-number">6.3.</span> <span class="toc-text">Shell 脚本的一个妙用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E4%BD%93%E4%BC%98%E5%8C%96"><span class="toc-number">6.4.</span> <span class="toc-text">字体优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-Windows-%E5%88%86%E5%8C%BA%E4%B8%AD%E7%9A%84%E5%AD%97%E4%BD%93"><span class="toc-number">6.4.1.</span> <span class="toc-text">使用 Windows 分区中的字体</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-Windows-ISO-%E4%B8%AD%E6%8F%90%E5%8F%96%E5%AD%97%E4%BD%93"><span class="toc-number">6.4.2.</span> <span class="toc-text">从 Windows ISO 中提取字体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9B%B8%E5%85%B3"><span class="toc-number">6.5.</span> <span class="toc-text">虚拟机相关</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC"><span class="toc-number">7.</span> <span class="toc-text">表格</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%93%BE%E6%8E%A5"><span class="toc-number">8.</span> <span class="toc-text">相关链接</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/10/18/fcitx5-rime%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E8%B8%A9%E5%9D%91%E7%82%B9%E8%A7%A3%E5%86%B3%E7%AE%80%E8%A6%81/" title="fcitx5-rime个人配置以及踩坑点解决简要"><img src="https://i.loli.net/2021/10/18/AGszuCDQZy1H5hp.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="fcitx5-rime个人配置以及踩坑点解决简要"/></a><div class="content"><a class="title" href="/2021/10/18/fcitx5-rime%E4%B8%AA%E4%BA%BA%E9%85%8D%E7%BD%AE%E4%BB%A5%E5%8F%8A%E8%B8%A9%E5%9D%91%E7%82%B9%E8%A7%A3%E5%86%B3%E7%AE%80%E8%A6%81/" title="fcitx5-rime个人配置以及踩坑点解决简要">fcitx5-rime个人配置以及踩坑点解决简要</a><time datetime="2021-10-18T06:18:25.000Z" title="发表于 2021-10-18 14:18:25">2021-10-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/08/%E4%BD%BF%E7%94%A8GVT-g%E5%B0%86IGPU%E4%BC%A0%E9%80%92%E7%BB%99KVM/" title="使用GVT-g将IGPU传递给KVM"><img src="/transparent" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用GVT-g将IGPU传递给KVM"/></a><div class="content"><a class="title" href="/2021/10/08/%E4%BD%BF%E7%94%A8GVT-g%E5%B0%86IGPU%E4%BC%A0%E9%80%92%E7%BB%99KVM/" title="使用GVT-g将IGPU传递给KVM">使用GVT-g将IGPU传递给KVM</a><time datetime="2021-10-07T19:42:11.000Z" title="发表于 2021-10-08 03:42:11">2021-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/08/%E5%A6%82%E4%BD%95%E5%9C%A8ArchLinux%E4%B8%8A%E5%AE%89%E8%A3%85KVM%E5%B9%B6%E8%99%9A%E6%8B%9F%E5%8C%96Win10/" title="如何在ArchLinux上安装KVM并虚拟化Win10"><img src="/transparent" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何在ArchLinux上安装KVM并虚拟化Win10"/></a><div class="content"><a class="title" href="/2021/10/08/%E5%A6%82%E4%BD%95%E5%9C%A8ArchLinux%E4%B8%8A%E5%AE%89%E8%A3%85KVM%E5%B9%B6%E8%99%9A%E6%8B%9F%E5%8C%96Win10/" title="如何在ArchLinux上安装KVM并虚拟化Win10">如何在ArchLinux上安装KVM并虚拟化Win10</a><time datetime="2021-10-07T19:42:11.000Z" title="发表于 2021-10-08 03:42:11">2021-10-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/02/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Lutris%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B8%B8%E7%8E%A9%E4%BD%8E%E5%BB%B6%E8%BF%9F%E9%9F%B3%E9%A2%91osu!%20%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8C%97/" title="Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北"><img src="https://i.loli.net/2021/10/09/a9oj4NRX6F1PleY.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北"/></a><div class="content"><a class="title" href="/2021/10/02/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8Lutris%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B8%B8%E7%8E%A9%E4%BD%8E%E5%BB%B6%E8%BF%9F%E9%9F%B3%E9%A2%91osu!%20%E7%9B%B8%E5%85%B3%E6%8C%87%E5%8C%97/" title="Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北">Linux下使用Lutris安装并游玩低延迟音频osu!Stable相关指北</a><time datetime="2021-10-02T10:35:02.000Z" title="发表于 2021-10-02 18:35:02">2021-10-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/12/SpringBoot%E4%B8%8B%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/" title="SpringBoot下处理跨域请求"><img src="https://z3.ax1x.com/2021/10/08/59y6SK.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SpringBoot下处理跨域请求"/></a><div class="content"><a class="title" href="/2021/09/12/SpringBoot%E4%B8%8B%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F%E8%AF%B7%E6%B1%82/" title="SpringBoot下处理跨域请求">SpringBoot下处理跨域请求</a><time datetime="2021-09-12T07:37:40.000Z" title="发表于 2021-09-12 15:37:40">2021-09-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By BlackSand</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44010602009735"><img class="icp-icon" src="https://img.alicdn.com/tfs/TB1..50QpXXXXX7XpXXXXXXXXXX-40-40.png"><span>粤公网安备44010602009735号</span></a> <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn"><span>粤ICP备2021141794号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>